<div class='component-preview' ng-class='{static:isStatic}'>

	<!-- border -->
	<div ng-class='{border:(showBorder && definition.cid!="grid"), dropTarget:(showBorder && definition.cid!="grid" && dragService.dragModel.hover==definition), droppable:isDroppable}' style="width:100%;height:100%">
		
		<!-- inset showing component type (appears on rollover) -->
		<div class='inset' ng-show='!isStatic && dragService.hover==definition'>{{definition.cid}}</div>
		
		<div class='content' style="width:100%;height:100%">
			
			<div ng-if='definition.cid=="ui_component"' ng-repeat="child in definition.children" resizable style="width:100%;height:100%;position:absolute;" ng-mouseenter='dragService.dragModel.hover=definition'>
				<component-preview component-definition='child' component-static="false" draggable drag-service='dragService'></component-preview>
			</div>
			
			<div ng-if='definition.cid=="image"' class='img' resizable ng-mouseenter='dragService.dragModel.hover=definition'>
				<img class='target' ng-src='{{definition.values.src}}'>
			</div>
			
			<div ng-if='definition.cid=="label"' resizable ng-mouseenter='dragService.dragModel.hover=definition'>
				<span 
					class='target' 
					ng-style="{'padding-top':definition.values.padding.top+'px','padding-right':definition.values.padding.right+'px','padding-bottom':definition.values.padding.bottom+'px','padding-left':definition.values.padding.left+'px','font-size':definition.values['font-size'].size+definition.values['font-size'].unit}">
					{{definition.values.text ? definition.values.text : componentDefinition.name}}
				</span>
			</div>
			
			<div ng-if='definition.cid=="button"' resizable ng-mouseenter='dragService.dragModel.hover=definition'>
				<button 
					class="btn btn-default target" 
					ng-class="{'text-left':definition.values.text-align=='left','text-center':definition.values.text-align=='center','text-right':definition.values.text-align=='right'}"
					ng-style="{'padding-top':definition.values.padding.top+'px','padding-right':definition.values.padding.right+'px','padding-bottom':definition.values.padding.bottom+'px','padding-left':definition.values.padding.left+'px','font-size':definition.values['font-size'].size+definition.values['font-size'].unit}">
					{{definition.values.text ? definition.values.text : componentDefinition.name}}
				</button>
			</div>
			
			<div ng-if='definition.cid=="iconbutton"' resizable ng-mouseenter='dragService.dragModel.hover=definition'>
				<button 
					class="btn btn-default target"
					ng-class="{'text-left':definition.values.text-align=='left','text-center':definition.values.text-align=='center','text-right':definition.values.text-align=='right'}"
					ng-style="{'padding-top':definition.values.padding.top+'px','padding-right':definition.values.padding.right+'px','padding-bottom':definition.values.padding.bottom+'px','padding-left':definition.values.padding.left+'px','font-size':definition.values['font-size'].size+definition.values['font-size'].unit}">
					<span class="glyphicon">
						<img ng-src='{{definition.values.src}}' style="height:14px;" />
					</span> 
					{{definition.values.text ? definition.values.text : componentDefinition.name}}
				</button>
			</div>
			
			<div ng-if='definition.cid=="grid"' ng-mouseenter='dragService.dragModel.hover=definition'>
				<table>
					<tr ng-repeat="r in [] | range:definition.values.rows">
						 <td 
						 	ng-controller="CellCtrl" 
						 	ng-repeat="c in [] | range:definition.values.cols" ng-init="init($parent.$index,$parent.$parent.$index,definition)" 
						 	ng-mouseover='onMouseEnter()' ng-mouseout='dragService.dragModel.hoverIndex=null' 
						 	ng-class='{border:showBorder, dropTarget:(showBorder && definition && dragService.dragModel.hover.id==definition.id && dragService.dragModel.hoverIndex==cellIndex), droppable:isDroppable}'
						 	ng-style="{'padding-top':definition.values.padding.top+'px','padding-right':definition.values.padding.right+'px','padding-bottom':definition.values.padding.bottom+'px','padding-left':definition.values.padding.left+'px'}"> 
						 	<div><div ng-repeat="child in definition.children | filter: getCellChildren"><component-preview component-definition='child' component-static="false" draggable drag-service='dragService'></component-preview></div></div>
						 </td>
					</tr>
				</table>
			</div>
			
			<div ng-if='definition.cid=="dropdown"' resizable>
				<select class="form-control target" ng-model="definition.values.items[0]" ng-options="v.label for v in definition.values.items"></select>
			</div>
			
			<div ng-if='definition.cid=="textinput"' resizable>
				<input class="form-control target" type="text" placeholder="{{definition.values.placeholder}}" value="{{definition.values.text}}">
			</div>
			
			<div ng-if='definition.cid=="checkbox" || definition.cid=="date" || definition.cid=="datetime" || definition.cid=="email" || definition.cid=="month" || definition.cid=="radio" || definition.cid=="search" || definition.cid=="tel" || definition.cid=="time" || definition.cid=="url" || definition.cid=="week"' resizable>
				<input class="target" ng-class="{'form-control':(definition.cid!='checkbox' && definition.cid!='radio')}" type="{{definition.values.type}}" ng-checked="definition.cid=='checkbox' || definition.cid=='radio'"> {{definition.values.label}}
			</div>
			
			<div ng-if='definition.cid=="number" || definition.cid=="range"' resizable>
				<input class="target" ng-class="{'form-control':(definition.cid!='range')}" type="{{definition.values.type}}" ng-value="definition.values.value" ng-attr-min="definition.values.min" ng-attr-max="definition.values.max" ng-attr-step="definition.values.step"> {{definition.values.label}}
			</div>
			
		</div>
		
	</div>
	
</div>