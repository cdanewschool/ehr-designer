<!DOCTYPE html>
<html lang="en" ng-app="app">
<base href="/"></base>
<head>
<!-- include: "type": "css", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "bootstrap/dist/css/bootstrap.min.css" -->
<!-- include: "type": "css", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "jquery-ui/themes/ui-lightness/jquery-ui.min.css" -->
<!-- include: "type": "css", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-bootstrap-colorpicker/css/colorpicker.css" -->
<!-- include: "type": "css", "basePath": "www/", "files": "css/**/*.css" -->
</head>

<body ng-controller="NavigationCtrl" ng-init="init()">

	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
	
		<div class="container-fluid">
		
			<div class="navbar-header">
				<span class="navbar-brand">EHR Designer</span>
			</div>
			
			<ul class="nav navbar-nav" ng-show="currentUser && !canvas.previewing">
			
				<li class="dropdown">
				
          			<a class="dropdown-toggle">File <b class="caret"></b></a>
          			
		          	<ul class="dropdown-menu" ng-controller="CanvasCtrl">
		          		<li><button class="btn btn-link" ng-click="newProject(true);location.path('/editor')">New</button></li>
		            	<li><button class="btn btn-link" ng-disabled="!canvas.currentProject || canvas.dirty===false" ng-click="saveProject()">Save</button></li>
		            	<li><button class="btn btn-link" ng-disabled="!canvas.currentProject || canvas.currentProject._isNew!==false" confirm-dialog confirm-dialog-message="Really delete?" confirm-dialog-callback="deleteProject">Delete</button></li>
		          	</ul>
		          	
		        </li>
				
			</ul>
			
			<ul class="nav navbar-nav">
				<li><a href="/browse">Browse</a></li>
				<li ng-controller="UserCtrl" ng-show="currentUser"><a href="/myprojects">My Projects</a></li>
				<li><a href="/about">About</a></li>
			</ul>
			
			<ul class="nav navbar-nav navbar-right">
				<li ng-show="!currentUser"><a href="/login"><span class="text-primary">Login</span></a></li>
				<li ng-controller="UserCtrl" ng-show="currentUser"><a ng-click="logout()"><span class="text-muted">Logout</span></a></li>
			</ul>
			
			<ul class="nav navbar-nav navbar-right" ng-show="location.path().indexOf('/editor')>-1">
				<li ng-show="canvas.dirty" tooltip-placement="left" tooltip="Your project needs to be saved!"><a><span class="glyphicon glyphicon-flash"></span></a></li>
				<li ng-show="!canvas.previewing"><a ng-controller="CanvasCtrl" ng-click="previewProject()"><span class="text-primary">Preview</span></a></li>
				<li ng-show="canvas.previewing"><a ng-click="canvas.previewing=false"><span class="text-primary">Exit</span></a></li>
			</ul>
			
		</div>
		
	</nav>
	
	<div ng-view></div>
	
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "jquery/dist/jquery.min.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "jquery-ui/ui/minified/jquery-ui.min.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "bootstrap/js/tooltip.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular/angular.min.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-base64/angular-base64.min.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-cookies/angular-cookies.min.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-http-auth/src/http-auth-interceptor.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-resource/angular-resource.min.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-route/angular-route.min.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-sanitize/angular-sanitize.min.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-bootstrap-colorpicker/js/bootstrap-colorpicker-module.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-dragdrop/src/angular-dragdrop.min.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-tutorial/angular-tutorial.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-ui-bootstrap/dist/ui-bootstrap-custom-tpls-0.10.0.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "angular-ui-sortable/sortable.min.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "underscore/underscore.js" -->
	<!-- include: "type": "js", "basePath": "www/bower_components/", "baseUrl": "bower_components/", "files": "underscore.string/dist/underscore.string.min.js" -->
	<!-- include: "type": "js", "basePath": "www/app/", "baseUrl": "app/", "files": "**/*.js" -->
	
</body>
</html>